# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthPayload {
  accessToken: String!
  expiresIn: String
  tokenType: String!
  user: User!
}

type BulkActionResult {
  errors: [String!]
  failureCount: Float!
  message: String
  success: Boolean!
  successCount: Float!
}

enum ContentReaderType {
  EPUB
  PDF
  WEB
}

input CreateHighlightInput {
  """User annotation/note on the highlight"""
  annotation: String

  """Highlight color (yellow, red, green, blue)"""
  color: HighlightColor = YELLOW

  """Optional content version/hash for tracking"""
  contentVersion: String

  """Anchor index for position"""
  highlightPositionAnchorIndex: Int = 0

  """Position in document as percentage (0-100)"""
  highlightPositionPercent: Float = 0

  """HTML content of the highlight"""
  html: String

  """Library item ID"""
  libraryItemId: String!

  """Text before the quote (for context)"""
  prefix: String

  """Quoted text from the document"""
  quote: String!

  """Web Annotation selectors for robust text positioning (W3C standard)"""
  selectors: JSON

  """Text after the quote (for context)"""
  suffix: String
}

input CreateLabelInput {
  color: String = "#000000"
  description: String
  name: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type DeleteResult {
  """ID of the deleted item"""
  itemId: String

  """Optional message providing details about the operation"""
  message: String

  """Whether the deletion was successful"""
  success: Boolean!
}

type Highlight {
  annotation: String
  color: HighlightColor!

  """Optional content version/hash for tracking"""
  contentVersion: String
  createdAt: DateTime!
  highlightPositionAnchorIndex: Int!
  highlightPositionPercent: Float!
  highlightType: HighlightType!
  html: String
  id: ID!
  libraryItemId: String!
  patch: String
  prefix: String
  quote: String
  representation: RepresentationType!

  """Web Annotation selectors for robust text positioning (W3C standard)"""
  selectors: JSON!
  sharedAt: DateTime
  shortId: String!
  suffix: String
  updatedAt: DateTime!
}

"""Highlight color options"""
enum HighlightColor {
  BLUE
  GREEN
  RED
  YELLOW
}

enum HighlightType {
  HIGHLIGHT
  REDACTION
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

type Label {
  color: String!
  createdAt: DateTime!
  description: String
  id: ID!
  internal: Boolean!
  name: String!
  position: Int!
  updatedAt: DateTime!
}

type LibraryItem {
  author: String
  content: String
  contentReader: ContentReaderType!
  createdAt: DateTime!
  description: String
  folder: String!
  id: ID!

  """Legacy alias for thumbnail"""
  image: String

  """Item type (ARTICLE, FILE, VIDEO, etc.)"""
  itemType: String!
  labels: [Label!]
  note: String
  noteUpdatedAt: DateTime
  originalUrl: String!

  """Legacy alias for itemType"""
  pageType: String!
  publishedAt: DateTime
  readAt: DateTime

  """Reading progress percentage (0-100) based on sentinel tracking"""
  readingProgressPercent: Float
  savedAt: DateTime!

  """Site favicon/icon URL"""
  siteIcon: String

  """Site name (e.g., "Medium", "New York Times")"""
  siteName: String
  slug: String!
  state: LibraryItemState!

  """Thumbnail/cover image URL for the library item"""
  thumbnail: String
  title: String!
  updatedAt: DateTime!

  """Estimated word count for reading time calculation"""
  wordCount: Float

  """Legacy alias for wordCount"""
  wordsCount: Float
}

enum LibraryItemState {
  ARCHIVED
  CONTENT_NOT_FETCHED
  DELETED
  FAILED
  PROCESSING
  SUCCEEDED
}

type LibraryItemsConnection {
  items: [LibraryItem!]!
  nextCursor: String
}

input LibrarySearchInput {
  """Filter by folder (inbox, archive, trash, all)"""
  folder: String

  """Filter by label names (items with ANY of these labels)"""
  labels: [String!]

  """
  Search query for full-text search across title, description, author, and content
  """
  query: String

  """Field to sort by"""
  sortBy: LibrarySortField = SAVED_AT

  """Sort order (ASC or DESC)"""
  sortOrder: SortOrder = DESC

  """Filter by item state"""
  state: LibraryItemState
}

"""Available fields to sort library items by"""
enum LibrarySortField {
  AUTHOR
  PUBLISHED_AT
  SAVED_AT
  TITLE
  UPDATED_AT
}

type Mutation {
  """Archive or unarchive a library item"""
  archiveLibraryItem(
    """Whether to archive (true) or unarchive (false)"""
    archived: Boolean!

    """Library item ID"""
    id: String!
  ): LibraryItem!

  """Archive or unarchive multiple library items"""
  bulkArchiveItems(
    """Whether to archive (true) or unarchive (false)"""
    archived: Boolean!

    """List of library item IDs to archive/unarchive"""
    itemIds: [String!]!
  ): BulkActionResult!

  """Delete multiple library items"""
  bulkDeleteItems(
    """List of library item IDs to delete"""
    itemIds: [String!]!
  ): BulkActionResult!

  """Mark multiple library items as read"""
  bulkMarkAsRead(
    """List of library item IDs to mark as read"""
    itemIds: [String!]!
  ): BulkActionResult!

  """Move multiple library items to a different folder"""
  bulkMoveToFolder(
    """Target folder (inbox, archive, trash)"""
    folder: String!

    """List of library item IDs to move"""
    itemIds: [String!]!
  ): BulkActionResult!

  """Create a new highlight with optional color"""
  createHighlight(
    """Highlight creation data"""
    input: CreateHighlightInput!
  ): Highlight!

  """Create a new label"""
  createLabel(input: CreateLabelInput!): Label!

  """Delete a highlight"""
  deleteHighlight(
    """Highlight ID"""
    id: String!
  ): DeleteResult!

  """Delete a label"""
  deleteLabel(id: String!): DeleteResult!

  """
  Delete a library item (moves to trash or permanently deletes if already in trash)
  """
  deleteLibraryItem(
    """Library item ID"""
    id: String!
  ): DeleteResult!

  """Move a library item to a different folder"""
  moveLibraryItemToFolder(
    """Target folder (inbox, archive, trash)"""
    folder: String!

    """Library item ID"""
    id: String!
  ): LibraryItem!

  """Save a URL to the library with content extraction"""
  saveUrl(input: SaveUrlInput!): LibraryItem!

  """Set labels for a library item (replaces existing labels)"""
  setLibraryItemLabels(itemId: String!, labelIds: [String!]!): [Label!]!

  """Update a highlight (annotation and/or color)"""
  updateHighlight(
    """Highlight ID"""
    id: String!

    """Highlight update data"""
    input: UpdateHighlightInput!
  ): Highlight!

  """Update an existing label"""
  updateLabel(id: String!, input: UpdateLabelInput!): Label!

  """Update library item metadata (title, author, description)"""
  updateLibraryItem(
    """Library item ID"""
    id: String!

    """Updated library item metadata"""
    input: UpdateLibraryItemInput!
  ): LibraryItem!

  """Update notebook content for a library item"""
  updateNotebook(
    """Library item ID"""
    id: String!

    """Notebook content"""
    input: UpdateNotebookInput!
  ): LibraryItem!

  """Update sentinel-based reading progress for a library item"""
  updateReadingProgress(
    """Reading progress data with sentinels"""
    input: UpdateReadingProgressInput!
  ): ReadingProgress!
}

type Query {
  """Get a single highlight by ID"""
  highlight(
    """Highlight ID"""
    id: String!
  ): Highlight

  """Get all highlights for a library item"""
  highlights(
    """Library item ID"""
    libraryItemId: String!
  ): [Highlight!]!

  """Get a single label by ID"""
  label(id: String!): Label

  """Get all labels for the current user"""
  labels: [Label!]!
  libraryItem(id: String!): LibraryItem
  libraryItems(after: String, first: Int = 20, search: LibrarySearchInput): LibraryItemsConnection!
  me: User!

  """Get reading progress for a library item"""
  readingProgress(
    """Optional content version to filter by"""
    contentVersion: String

    """Library item ID"""
    libraryItemId: String!
  ): ReadingProgress

  """Legacy search query for backward compatibility"""
  search(after: String, first: Int = 20, includeContent: Boolean = false, query: String): SearchResult!
  session: AuthPayload
  viewer: User!
}

type ReadingProgress {
  """Hash/version of the content this progress applies to"""
  contentVersion: String

  """When this progress record was first created"""
  createdAt: DateTime!

  """Highest sentinel ever reached (for completion tracking)"""
  highestSeenSentinel: Int!

  """Unique identifier"""
  id: ID!

  """Most recent sentinel scrolled past (for position restoration)"""
  lastSeenSentinel: Int!

  """Library item this progress belongs to"""
  libraryItemId: String!

  """When this progress was last updated"""
  updatedAt: DateTime!
}

enum RegistrationType {
  APPLE
  EMAIL
  GOOGLE
  TWITTER
}

enum RepresentationType {
  CONTENT
  FEED_CONTENT
}

input SaveUrlInput {
  """Folder to save the URL to (inbox, archive)"""
  folder: String = "inbox"

  """Source of the save request (web, mobile, api, extension)"""
  source: String = "web"

  """URL to save to library"""
  url: String!
}

type SearchError {
  errorCodes: [String!]!
}

type SearchItemEdge {
  cursor: String!
  node: LibraryItem!
}

type SearchPageInfo {
  endCursor: String
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
  totalCount: Int
}

union SearchResult = SearchError | SearchSuccess

type SearchSuccess {
  edges: [SearchItemEdge!]!
  pageInfo: SearchPageInfo!
}

"""Sort order direction"""
enum SortOrder {
  ASC
  DESC
}

enum StatusType {
  ACTIVE
  ARCHIVED
  PENDING
}

input UpdateHighlightInput {
  """User annotation/note on the highlight"""
  annotation: String

  """Highlight color (yellow, red, green, blue)"""
  color: HighlightColor
}

input UpdateLabelInput {
  color: String
  description: String
  name: String
}

input UpdateLibraryItemInput {
  """Updated author name for the library item"""
  author: String

  """Updated description for the library item"""
  description: String

  """Read timestamp (set to mark as read, null to mark as unread)"""
  readAt: DateTime

  """Updated title for the library item"""
  title: String
}

input UpdateNotebookInput {
  """Notebook content (supports markdown)"""
  note: String!
}

input UpdateReadingProgressInput {
  """Hash/version of the content this progress applies to"""
  contentVersion: String

  """Highest sentinel ever reached by this user"""
  highestSeenSentinel: Int!

  """Most recent sentinel the user scrolled past"""
  lastSeenSentinel: Int!

  """Library item ID"""
  libraryItemId: String!

  """
  Total number of sentinels in the article (for progress percentage calculation)
  """
  totalSentinels: Int
}

type User {
  createdAt: DateTime!
  email: String
  id: ID!
  name: String
  role: UserRole
  source: RegistrationType!
  status: StatusType!
  updatedAt: DateTime!
}

enum UserRole {
  ADMIN
  INTEGRATION_DEVELOPER
  PENDING
  PREMIUM
  SUPPORT
  SUSPENDED
  USER
}